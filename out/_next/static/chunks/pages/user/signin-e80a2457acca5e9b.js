(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{8827:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/signin",function(){return n(1853)}])},6050:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.dca1d111.png",height:330,width:757,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAY0lEQVR42mNgWfCYO732gP9SBk1hBiAICJrGbmXTzskAA8Ezb0QExy/9H1K67YhhwJQYM8PmODOr9lozy/Y4IE5jSFl8VzovcYWf94wbyfZZy8VNFGrEzW06TCxsOuQsrNsVANwJH9E2cV6DAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}},902:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});let s=n(6626),r=s.production;r.BACKEND_URL;let i=r.HTTP_ONLY},1853:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s=n(5893),r=n(7536),i=n(1163),o=n(4480),a=n(7533),u=n(4231),l=n(1768),c=n(5675),d=n.n(c),p=n(594),h=n(6050),f=n(902),m=n(3412);function y(e){let t=(0,i.useRouter)(),n=(0,o.Zl)(m.KL),c=new Date;c.setMinutes(c.getMinutes()+1);let y=u.Ry({username:u.Z_().required(""),password:u.Z_().required("")}),{register:g,handleSubmit:A}=(0,r.cI)({mode:"onChange",resolver:(0,a.X)(y)}),_=async e=>{let s=new FormData;s.append("username",e.username),s.append("password",e.password);try{await p.Z.post("/api/login",s).then(e=>{if(!0===e.data.success){let s=e.data.data;n({name:s.nickname,loggin:!0,emailAuth:s.emailVerified});let r=s.access_token,i=s.refresh_token;p.Z.defaults.headers.common.Authorization="Bearer ".concat(r),l.ZP.save("accessToken",r,{httpOnly:f.w,path:"/",expires:c}),l.ZP.save("refreshToken",i,{httpOnly:f.w,path:"/"}),t.push("/")}else alert(e.data.error.message)})}catch(r){console.log(r),alert("잠시 후 다시 시도해주세요.")}};return(0,s.jsxs)("div",{className:"sign",style:{width:"25%",gap:0},children:[(0,s.jsx)("div",{className:"sign_title",children:(0,s.jsx)(d(),{src:h.Z,alt:"yehLogo",onClick:()=>t.push("/"),style:{cursor:"pointer"}})}),(0,s.jsxs)("form",{onSubmit:A(_),className:"sign_contents",children:[(0,s.jsx)("label",{htmlFor:"username",children:"아이디"}),(0,s.jsx)("input",{name:"username",type:"text",...g("username"),placeholder:"아이디를 입력해주세요",autoComplete:"off"}),(0,s.jsx)("label",{htmlFor:"password",children:"비밀번호"}),(0,s.jsx)("input",{name:"password",type:"password",...g("password"),placeholder:"비밀번호를 입력해주세요"}),(0,s.jsx)("button",{type:"submit",className:"sign_Btn",style:{marginTop:"50px"},children:"로그인"})]}),(0,s.jsxs)("div",{className:"sign_Etc_Btn",children:[(0,s.jsx)("button",{onClick:()=>t.push("/user/idFind"),children:"아이디 찾기"}),(0,s.jsx)("span",{children:"|"}),(0,s.jsx)("button",{children:"비밀번호 찾기"}),(0,s.jsx)("span",{children:"|"}),(0,s.jsx)("button",{onClick:()=>t.push("/user/signup"),children:"회원가입"})]})]})}},3412:function(e,t,n){"use strict";n.d(t,{DI:function(){return a},KL:function(){return o},zK:function(){return u}});var s=n(4480),r=n(6983);let{persistAtom:i}=(0,r.J)(),o=(0,s.cn)({key:"userState",default:{name:null,loggin:!1,emailAuth:!1},effects_UNSTABLE:[i]}),a=(0,s.cn)({key:"keywordState",default:{posts:null,postCount:0},effects_UNSTABLE:[i]}),u=(0,s.cn)({key:"pageState",default:1,effects_UNSTABLE:[i]})},6983:function(e,t){"use strict";t.J=void 0;let n=(e={})=>{if("undefined"==typeof window)return{persistAtom(){}};let{key:t="recoil-persist",storage:n=localStorage}=e,s=({onSet:e,node:t,trigger:n,setSelf:s})=>{if("get"===n){let o=i();"function"==typeof o.then&&o.then(e=>{e.hasOwnProperty(t.key)&&s(e[t.key])}),o.hasOwnProperty(t.key)&&s(o[t.key])}e(async(e,n,s)=>{let o=i();"function"==typeof o.then?o.then(n=>r(e,n,t.key,s)):r(e,o,t.key,s)})},r=(e,t,n,s)=>{s?delete t[n]:t[n]=e,a(t)},i=()=>{let e=n.getItem(t);return null==e?{}:"string"==typeof e?o(e):"function"==typeof e.then?e.then(o):{}},o=e=>{if(void 0===e)return{};try{return JSON.parse(e)}catch(t){return console.error(t),{}}},a=e=>{try{"function"==typeof n.mergeItem?n.mergeItem(t,JSON.stringify(e)):n.setItem(t,JSON.stringify(e))}catch(s){console.error(s)}};return{persistAtom:s}};t.J=n},6626:function(e){"use strict";e.exports=JSON.parse('{"development":{"BACKEND_URL":"http://43.201.144.113:8080","HTTP_ONLY":false},"production":{"BACKEND_URL":"","HTTP_ONLY":true}}')}},function(e){e.O(0,[675,628,774,888,179],function(){return e(e.s=8827)}),_N_E=e.O()}]);